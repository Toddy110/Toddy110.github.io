/* Custom enhanced code block theme */

/* 1. åŸºç¡€ä»£ç å—ï¼šç»Ÿä¸€å˜é‡ -- äº®/æš—é…è‰²æ–¹æ¡ˆ */
/* Tokyo Night é…è‰²å˜é‡ï¼ˆlight é‡‡ç”¨æ·¡åŒ–ç‰ˆï¼Œdark é‡‡ç”¨åŸä¸»é¢˜é£æ ¼ï¼‰ */
:root {
	--code-bg-light: #f5f7fa; /* æµ…èƒŒæ™¯é˜²åˆºçœ¼ */
	--code-border-light: #e2e8f0;
	--code-text-light: #2e3440;
	--code-inline-bg: #eef2f7;
	--code-inline-text: #c7254e;
	--code-accent: #7aa2f7; /* å…³é”®è‰² */
	--code-add: #449d48;
	--code-del: #c34043;
	--code-keyword: #9d7cd8; /* å…³é”®å­— */
	--code-string: #587539; /* å­—ç¬¦ä¸² (light tone) */
	--code-func: #7aa2f7;
	--code-number: #b15c00;
	--code-comment: #8292a2;

	--code-bg-dark: #1a1b26; /* Tokyo Night æ·±èƒŒæ™¯ */
	--code-border-dark: #2e3240;
	--code-text-dark: #c0caf5;
	--code-inline-bg-dark: #24283b;
	--code-inline-text-dark: #ff9e64;
	--code-shadow-dark: 0 2px 8px rgba(0,0,0,.6);
	--tokyo-red: #f7768e;
	--tokyo-orange: #ff9e64;
	--tokyo-yellow: #e0af68;
	--tokyo-green: #9ece6a;
	--tokyo-cyan: #7dcfff;
	--tokyo-blue: #7aa2f7;
	--tokyo-magenta: #bb9af7;
	--tokyo-comment: #565f89;
}

/* 2. å»é™¤ä¸»é¢˜é»˜è®¤â€œMac ä¸‰è‰²åœ†ç‚¹â€ */
.code-area::after { display: none !important; }

/* 3. å—çº§ä»£ç æ•´ä½“æ ·å¼ */
#articleContent pre { 
	padding: 1rem 1.2rem !important;
	margin: 1.2rem 0;
	background: var(--code-bg-light);
	border: 1px solid var(--code-border-light);
	border-radius: 8px;
	box-shadow: 0 2px 4px rgba(0,0,0,.06);
	line-height: 1.55;
	overflow: auto;
}
#articleContent pre code {
	background: transparent !important;
	color: var(--code-text-light);
	font-size: 0.92rem;
	font-family: 'JetBrainsMono','Fira Code', Menlo, Consolas, Monaco, 'Courier New', monospace;
	font-weight: 450;
}

/* é¿å…æŸäº›ä¸»é¢˜æŠŠä»£ç å—å†…çš„ class/def è§£ææˆ h1/h2 æ ·å¼å¯¼è‡´â€œå¤§å­—â€ */
#articleContent pre h1,
#articleContent pre h2,
#articleContent pre h3,
#articleContent pre h4,
#articleContent pre h5,
#articleContent pre h6 {
	font-size: inherit !important;
	line-height: inherit !important;
	font-weight: inherit !important;
	margin: 0 !important;
	padding: 0 !important;
}

/* 4. è¡Œå†…ä»£ç  */
#articleContent p code,
#articleContent li code,
#articleContent h2 code,
#articleContent h3 code,
#articleContent table code {
	background: var(--code-inline-bg);
	color: var(--code-inline-text);
	padding: 2px 6px;
	border: 1px solid #f2e2c5;
	border-radius: 4px;
	font-size: 0.85rem;
}

/* 5. ä»…éšè—ä¸éœ€è¦çš„è¯­è¨€ / å±•å¼€æŒ‰é’®ï¼Œæ¢å¤å¤åˆ¶æŒ‰é’® */
.code_lang, .code-expand { display: none !important; }

/* å¤åˆ¶æŒ‰é’®ï¼šå¢å¼ºå¯è§æ€§ï¼ˆå¸¦æ–‡å­—â€œå¤åˆ¶â€ï¼‰*/
.code_copy {
	position: absolute;
	top: 8px;
	right: 12px;
	z-index: 20;
	display: inline-flex;
	align-items: center;
	gap: 6px;
	font-size: 12px;
	font-weight: 600;
	padding: 6px 14px;
	border-radius: 8px;
	cursor: pointer;
	line-height: 1;
	letter-spacing: .5px;
	user-select: none;
	background: linear-gradient(135deg,#eef4ff,#d9e7ff 55%,#cddfff);
	border: 1px solid #b2c4ff;
	color: #2f3b52;
	box-shadow: 0 2px 5px rgba(0,0,0,.06), 0 4px 12px -4px rgba(0,0,0,.12);
	transition: background .25s ease, box-shadow .25s ease, transform .2s ease, color .25s, border-color .25s;
	backdrop-filter: blur(4px);
}
.code_copy::before { content: "ğŸ“‹"; font-size: 13px; transform: translateY(-1px); }
.code_copy::after { content: "å¤åˆ¶ä»£ç "; }
.code_copy:hover {
	background: linear-gradient(135deg,#fff,#e8eeff);
	box-shadow: 0 4px 10px -2px rgba(0,0,0,.18);
	transform: translateY(-2px);
}
.code_copy:active { transform: translateY(0) scale(.95); }
.code_copy:focus-visible { outline: 2px solid #7aa2f7; outline-offset: 2px; }

/* Dark mode copy button */
body.DarkMode .code_copy { 
	background: linear-gradient(135deg,#283144,#303b52); 
	border: 1px solid #3d4a60; 
	color: #d3d9e5; 
	box-shadow: 0 2px 5px rgba(0,0,0,.4);
}
body.DarkMode .code_copy:hover { 
	background: linear-gradient(135deg,#334154,#3b4860); 
	box-shadow: 0 4px 12px -2px rgba(0,0,0,.55);
	color: #eef4ff;
}

@media (prefers-color-scheme: dark) {
	body:not(.force-light) .code_copy { 
		background: linear-gradient(135deg,#283144,#303b52); 
		border: 1px solid #3d4a60; 
		color: #d3d9e5; 
	}
	body:not(.force-light) .code_copy:hover { 
		background: linear-gradient(135deg,#334154,#3b4860); 
		color: #eef4ff; 
	}
}

/* å¤åˆ¶æç¤ºæµ®å±‚ */
.codecopy_notice {
	position: absolute;
	top: 8px;
	right: 120px; /* ç•™å‡ºæ›´é•¿æŒ‰é’®ç©ºé—´ */
	z-index: 21;
	background: rgba(0,0,0,.55);
	color: #fff;
	padding: 4px 12px 5px;
	border-radius: 6px;
	font-size: 12px;
	line-height: 1.1;
	font-weight: 500;
	pointer-events: none;
	opacity: 0;
	transform: translateY(-4px) scale(.95);
	backdrop-filter: blur(4px);
	transition: opacity .35s ease, transform .35s ease;
	white-space: nowrap;
}
.codecopy_notice.is-active { opacity: 1; transform: translateY(0) scale(1); }
body.DarkMode .codecopy_notice { background: rgba(50,55,70,.7); }
@media (prefers-color-scheme: dark) { body:not(.force-light) .codecopy_notice { background: rgba(50,55,70,.7); } }

/* 6. è¯­æ³•é«˜äº®ï¼ˆé’ˆå¯¹ Prism æˆ– highlight.js çš„å¸¸è§ç±»ï¼‰ */
/* 6. Tokyo Night è¯­æ³•é…è‰²ï¼ˆæµ…è‰²æ¨¡å¼æ·¡åŒ–ç‰ˆï¼‰ */
code .token.comment, code .hljs-comment { color: var(--code-comment); font-style: italic; }
code .token.keyword, code .hljs-keyword { color: var(--tokyo-magenta); }
code .token.string, code .hljs-string { color: var(--code-string); }
code .token.function, code .hljs-function { color: var(--tokyo-blue); }
code .token.number, code .hljs-number { color: var(--tokyo-orange); }
code .token.boolean { color: var(--tokyo-orange); }
code .token.operator, code .hljs-operator { color: var(--tokyo-red); }
code .token.class-name { color: var(--tokyo-yellow); }
code .token.constant { color: var(--tokyo-cyan); }
code .token.builtin { color: var(--tokyo-green); }
code .token.deleted { color: var(--code-del); }
code .token.inserted { color: var(--code-add); }

/* 7. Diff è¡Œæç¤ºï¼ˆå¯é€‰ï¼‰*/
pre code .diff-add, pre code .hljs-addition { background: rgba(46,160,67,.12); display: block; margin: 0 -1.2rem; padding: 0 1.2rem; }
pre code .diff-del, pre code .hljs-deletion { background: rgba(248,81,73,.12); display: block; margin: 0 -1.2rem; padding: 0 1.2rem; }

/* 8. æ·±è‰²æ¨¡å¼ï¼ˆä¸»é¢˜æš—è‰² class å¯èƒ½æ˜¯ .DarkModeï¼›ä¹Ÿå…¼å®¹ç”¨æˆ·ç³»ç»Ÿåå¥½ï¼‰ */
/* æ·±è‰²æ¨¡å¼ï¼šä¸»é¢˜è‡ªèº« DarkMode ç±» å’Œ ç³»ç»Ÿåå¥½ dark */
body.DarkMode #articleContent pre {
	background: var(--code-bg-dark);
	border-color: var(--code-border-dark);
	box-shadow: var(--code-shadow-dark);
}
body.DarkMode #articleContent pre code { color: var(--code-text-dark); }
body.DarkMode #articleContent p code,
body.DarkMode #articleContent li code,
body.DarkMode #articleContent h2 code,
body.DarkMode #articleContent h3 code,
body.DarkMode #articleContent table code {
	background: var(--code-inline-bg-dark);
	color: var(--code-inline-text-dark);
	border-color: #3a3a3a;
}

@media (prefers-color-scheme: dark) {
	body:not(.force-light) #articleContent pre {
		background: var(--code-bg-dark);
		border-color: var(--code-border-dark);
		box-shadow: var(--code-shadow-dark);
	}
	body:not(.force-light) #articleContent pre code {
		color: var(--code-text-dark);
	}
	body:not(.force-light) #articleContent p code,
	body:not(.force-light) #articleContent li code,
	body:not(.force-light) #articleContent h2 code,
	body:not(.force-light) #articleContent h3 code,
	body:not(.force-light) #articleContent table code {
		background: var(--code-inline-bg-dark);
		color: var(--code-inline-text-dark);
		border-color: #3a3a3a;
	}
	/* æ·±è‰²é«˜äº®é¢œè‰²å¾®è°ƒ */
		body:not(.force-light) code .token.comment { color: var(--tokyo-comment); }
		body:not(.force-light) code .token.keyword { color: var(--tokyo-magenta); }
		body:not(.force-light) code .token.string { color: var(--tokyo-green); }
		body:not(.force-light) code .token.function { color: var(--tokyo-blue); }
		body:not(.force-light) code .token.number { color: var(--tokyo-orange); }
		body:not(.force-light) code .token.operator { color: var(--tokyo-red); }
		body:not(.force-light) code .token.class-name { color: var(--tokyo-yellow); }
}

/* 9. æ»šåŠ¨æ¡ï¼ˆä»£ç å—å†…ï¼‰ç²¾è‡´åŒ– */
#articleContent pre::-webkit-scrollbar { height: 10px; }
#articleContent pre::-webkit-scrollbar-track { background: transparent; }
#articleContent pre::-webkit-scrollbar-thumb { background: #c2c2c2; border-radius: 6px; }
body.DarkMode #articleContent pre::-webkit-scrollbar-thumb { background: #4a4a4a; }

/* 10. é¿å…å·²æœ‰ä¸»é¢˜ç»™ code å†æ¬¡åŠ çš„ filter */
body.DarkMode pre code { filter: none !important; }

/* 11. å¤åˆ¶æç¤ºä¼˜åŒ–ï¼ˆä¸»é¢˜å·²æœ‰ .codecopy_noticeï¼‰*/
.codecopy_notice { background: rgba(0,0,0,.65); color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 11px; }

/* 12. å¦‚æœ highlight.js æ²¡æœ‰æŒ‰ token åˆ†è¡Œï¼Œå¯ä»¥è¿½åŠ è¡Œé«˜ */
#articleContent pre code { line-height: 1.5; }

/* 13. é˜²æ­¢å†…è” code è¢«æš—è‰²ä¸»é¢˜å…¨å±€ filter æ´—æ‰é¢œè‰² */
body.DarkMode #articleContent p code { filter: none !important; }

/* ========================================
   æ¸…æ–°è‰²å½©ä¸»é¢˜ - è¦†ç›–ä¸»é¢˜åŸæœ‰è‰³ä¸½é¢œè‰²
   ======================================== */

/* ä¸»è‰²è°ƒï¼šè–„è·ç»¿ã€å¤©ç©ºè“ã€æ·¡ç´«ç° */
:root {
    --fresh-primary: #6BC4A6;      /* è–„è·ç»¿ */
    --fresh-secondary: #7FD8BE;    /* æµ…è–„è·ç»¿ */
    --fresh-accent: #87CEEB;       /* å¤©ç©ºè“ */
    --fresh-light: #E0F7F4;        /* ææµ…è–„è·è‰² */
    --fresh-pale: #F0FDFA;         /* æµ…è‰²èƒŒæ™¯ */
    --fresh-text: #475569;         /* æŸ”å’Œæ–‡å­—è‰² */
}

/* è¦†ç›–ä¸»é¢˜çš„ç´«è‰²æ¸å˜ -> è–„è·ç»¿æ¸å˜ */
.bg-gradient-primary,
.card-gradient-primary,
.bg-color-primary {
    background: linear-gradient(to right, var(--fresh-primary) 0%, var(--fresh-secondary) 100%) !important;
}

/* è¦†ç›–æ–‡ç« å¼•ç”¨å—çš„ç´«è‰²è¾¹æ¡† -> è–„è·ç»¿ */
blockquote {
    border-left: 5px solid var(--fresh-primary) !important;
    background-color: var(--fresh-light) !important;
}

/* è¦†ç›–æŒ‰é’®çš„ç´«/æ©™æ¸å˜ -> è–„è·ç»¿æ¸å˜ */
.btn-primary,
.btn-default,
button[type="submit"] {
    background: linear-gradient(to right, var(--fresh-primary) 0%, var(--fresh-secondary) 100%) !important;
}

.btn-primary:hover,
.btn-default:hover,
button[type="submit"]:hover {
    background: linear-gradient(to right, var(--fresh-secondary) 0%, var(--fresh-primary) 100%) !important;
}

/* è¦†ç›–æ ‡ç­¾çš„é¢œè‰² -> æŸ”å’Œçš„è“ç»¿è‰² */
.badge,
.tag,
.post-category,
.post-tag {
    background-color: var(--fresh-accent) !important;
    color: #fff !important;
}

/* è¦†ç›–é¦–é¡µå¡ç‰‡çš„é«˜äº®é¢œè‰² -> è–„è·ç»¿ç³» */
.card {
    border-top: 3px solid var(--fresh-primary) !important;
}

.card:hover {
    box-shadow: 0 4px 12px rgba(107, 196, 166, 0.2) !important;
}

/* è¦†ç›–codeåŒºåŸŸçš„èƒŒæ™¯è‰² -> æ›´æŸ”å’Œçš„æ·¡è“ç° */
pre {
    background-color: #F5FAFA !important;
    border-left: 4px solid var(--fresh-accent) !important;
}

/* è¦†ç›–å¤åˆ¶æŒ‰é’®çš„é¢œè‰² */
.code_copy {
    background: linear-gradient(135deg, #E0F7F4, #D4F1EC) !important;
    border: 1px solid var(--fresh-primary) !important;
    color: var(--fresh-primary) !important;
}

.code_copy:hover {
    background: linear-gradient(135deg, var(--fresh-light), #D4F1EC) !important;
    box-shadow: 0 4px 12px rgba(107, 196, 166, 0.25) !important;
}

/* è¦†ç›–æ»šåŠ¨æ¡é¢œè‰² -> è–„è·ç»¿ç³» */
::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, var(--fresh-primary), var(--fresh-secondary)) !important;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--fresh-secondary) !important;
}

/* è¦†ç›–é˜…è¯»è¿›åº¦æ¡é¢œè‰² */
.read-progress {
    background: linear-gradient(to right, var(--fresh-primary), var(--fresh-accent)) !important;
}

/* è¦†ç›–è¿”å›é¡¶éƒ¨æŒ‰é’®çš„é¢œè‰² */
#scrollUp {
    background: var(--fresh-primary) !important;
}

#scrollUp:hover {
    background: var(--fresh-secondary) !important;
}

/* è¦†ç›–åˆ†é¡µæŒ‰é’®é¢œè‰² */
.pagination li.active a {
    background-color: var(--fresh-primary) !important;
}

.pagination li a:hover {
    background-color: var(--fresh-light) !important;
    color: var(--fresh-primary) !important;
}

/* æ·¡åŒ–å­¦æœ¯è‰²å½©ï¼Œè®©æ•´ä½“æ›´æ¸…çˆ½ */
body {
    background-color: #FAFDFC !important; /* ææ·¡çš„ç°ç»¿èƒŒæ™¯ */
}

/* è¦†ç›–footerèƒŒæ™¯è‰² */
footer {
    background-color: #F0FDFA !important;
}
